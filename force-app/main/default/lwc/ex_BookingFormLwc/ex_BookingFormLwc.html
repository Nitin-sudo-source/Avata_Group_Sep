<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 10-16-2024
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
    <div style="Padding:10px;">
        <div if:true={isSpinner} class="spinner-container">
            <div class="loader"></div>
            <div class="wait-text">Please wait...</div>
        </div>
        <template if:true={isError}>
            <lightning-card style="Padding:10px;">
                <p style="text-align:center;color:red;font-size:16px;"><i>&#9888; {showErrormsg}</i></p>
            </lightning-card>
        </template>
        <template if:false={isError}>
            <lightning-card style="Padding:10px;">
                <h1 class="my-heading"><b>Booking Form</b></h1>
                <center>
                    <div style="width:300px">
                        <lightning-formatted-rich-text value={projectimage}></lightning-formatted-rich-text>
                    </div>
                </center>
                <lightning-record-edit-form object-api-name="Quotation__c" record-id={recordId}>
                    <table class="Table1Css" style="font-size:10px;">
                        <template for:each={getQuotationDetails} for:item="q" for:index="index">
                            <tr key={q.Id}>
                                <th colspan="4" style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                    color: black; ">
                                    Details of Preferred Unit
                                </th>
                            </tr>
                            <tr key={q.Id}>
                                <th style="text-align:left;">Quotation</th>
                                <td style="text-align:left;">
                                    <lightning-formatted-text data-index={index} variant="label-hidden"
                                        value={q.Name}></lightning-formatted-text>
                                </td>
                                <th style="text-align:left;">Project</th>
                                <td style="text-align:left;">
                                    <lightning-formatted-text data-index={index} variant="label-hidden"
                                        value={q.Project__r.Name}></lightning-formatted-text>
                                </td>
                            </tr>
                            <tr key={q.Id}>
                                <th style="text-align:left;">Tower</th>
                                <td style="text-align:left;">
                                    <lightning-formatted-text data-index={index} variant="label-hidden"
                                        value={q.Tower__r.Name}></lightning-formatted-text>
                                </td>
                                <th style="text-align:left;">Unit</th>
                                <td style="text-align:left;">
                                    <lightning-formatted-text data-index={index} variant="label-hidden"
                                        value={q.Unit__r.Name}></lightning-formatted-text>
                                </td>
                            </tr>

                            <tr key={q.Id}>
                                <th style="text-align:left;">Floor</th>
                                <td style="text-align:left;"> <lightning-formatted-number value={q.Unit__r.Floor__c}>
                                    </lightning-formatted-number></td>
                                <th style="text-align:left;">Total Carpet Area</th>
                                <td style="text-align:left;">
                                    <lightning-formatted-number value={q.Unit__r.Total_Carpet_Area_Sq_Ft__c}>
                                    </lightning-formatted-number>
                                </td>
                            </tr>
                        </template>
                    </table>
                </lightning-record-edit-form>
                <lightning-record-edit-form object-api-name="Booking__c">
                    <table class="Table1Css" style="font-size:10px;">
                        <tr>
                            <th colspan="4" style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                    color: black; ">
                                Booking Details
                            </th>
                        </tr>
                        <tr>
                            <th style="text-align:left;">Booking Date<span style="color: red;">*</span></th>
                            <td style="text-align:left;"><lightning-input-field type="date"
                                    value={bkWrapper.bk.Booking_Date__c} variant="label-hidden"
                                    field-name="Booking_Date__c" name="Booking_Date__c"
                                    onchange={handleChangeBooking}></lightning-input-field>
                            </td>
                            <th style="text-align:left;">Tentative agreement Registration Date
                                <span style="color: red;">*</span>
                            </th>
                            <td style="text-align:left;"><lightning-input-field type="date"
                                    value={bkWrapper.bk.Registration_Date__c} name="Registration_Date__c"
                                    variant="label-hidden" field-name="Registration_Date__c"
                                    onchange={handleChangeBooking}></lightning-input-field>
                            </td>
                        </tr>
                        <tr>
                            <th style="text-align:left;">Mode of Funding</th>
                            <td colspan="3"><lightning-input-field name="Mode_of_Funding__c"
                                    value={bkWrapper.bk.Mode_of_Funding__c} data-id="Mode_of_Funding__c"
                                    variant="label-hidden" field-name="Mode_of_Funding__c"
                                    onchange={handleChangeBooking}></lightning-input-field>
                            </td>
                            <!-- <th style="text-align:left;">Type of Booking</th>
                        <td><lightning-input-field name="Type_of_Booking__c" data-id="Type_of_Booking__c"
                                variant="label-hidden" field-name="Type_of_Booking__c"
                                onchange={handleTypeofBooking}></lightning-input-field>
                        </td> -->

                        </tr>
                        <tr>
                            <th colspan="4" style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                    color: black; ">
                                Booking Details Comments
                            </th>
                        </tr>
                        <tr>
                            <th style="text-align:left;">Any Other Offers
                            </th>
                            <td colspan="4">
                                <lightning-textarea name="Any_other_offers__c" value={bkWrapper.bk.Any_other_offers__c}
                                    field-name="Any_other_offers__c" data-id="Any_other_offers__c"
                                    onchange={handleChangeBooking}></lightning-textarea>
                            </td>
                        </tr>
                        <tr>
                            <th style="text-align:left;">Remarks
                            </th>
                            <td colspan="4">
                                <lightning-textarea name="Remarks__c" value={bkWrapper.bk.Remarks__c}
                                    data-id="Remarks__c" field-name="Remarks__c"
                                    onchange={handleChangeBooking}></lightning-textarea>
                            </td>
                        </tr>
                        <tr>
                            <th style="text-align:left;">Payment Remarks <span style="color: red;">*</span>
                            </th>
                            <td colspan="4">
                                <lightning-textarea name="Payment_Remarks__c" field-name="Payment_Remarks__c"
                                    data-id="Payment_Remarks__c" value={bkWrapper.bk.Payment_Remarks__c}
                                    onchange={handleChangeBooking}></lightning-textarea>
                            </td>
                        </tr>
                    </table>
                </lightning-record-edit-form>


                <table class="Table1Css" style="font-size:10px;">
                    <template for:each={testData} for:item="le">
                        <tr key={le.Id}>

                            <th colspan="4" style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                color: black; ">
                                Bank Account Details
                            </th>
                        </tr>
                        <tr key={le.Id}>
                            <th style="text-align:left;">Account Name (Flat Cost)</th>
                            <td style="text-align:left;">
                                <lightning-formatted-text
                                    value={le.Account_Name_Flat_Cost__c}></lightning-formatted-text>
                            </td>
                            <th style="text-align:left;">Account Name (Tax)</th>
                            <td style="text-align:left;">
                                <lightning-formatted-text value={le.Account_Name_Tax__c}></lightning-formatted-text>
                            </td>
                        </tr>
                        <tr key={le.Id}>
                            <th style="text-align:left;">Account Number(Flat Cost) </th>
                            <td style="text-align:left;">
                                <lightning-formatted-text
                                    value={le.Account_Number_Flat_Cost__c}></lightning-formatted-text>
                            </td>
                            <th style="text-align:left;">Account Number(Tax)</th>
                            <td style="text-align:left;">
                                <lightning-formatted-text value={le.Account_Number_Tax__c}></lightning-formatted-text>
                            </td>
                        </tr>
                        <tr key={le.Id}>
                            <th style="text-align:left;">Bank Name(Flat Cost)</th>
                            <td style="text-align:left;">
                                <lightning-formatted-text value={le.Bank_Name_Flat_Cost__c}></lightning-formatted-text>
                            </td>
                            <th style="text-align:left;">Bank Name(Tax)</th>
                            <td style="text-align:left;">
                                <lightning-formatted-text value={le.Bank_Name_Tax__c}></lightning-formatted-text>
                            </td>
                        </tr>
                        <tr key={le.Id}>
                            <th style="text-align:left;">IFSC Code(Flat Cost)</th>
                            <td style="text-align:left;">
                                <lightning-formatted-text value={le.IFSC_Code_Flat_Cost__c}></lightning-formatted-text>
                            </td>
                            <th style="text-align:left;">IFSC Code(Tax)</th>
                            <td style="text-align:left;">
                                <lightning-formatted-text value={le.IFSC_Code_Tax__c}></lightning-formatted-text>
                            </td>
                        </tr>
                    </template>
                </table>

                <table class="Table1Css">
                    <tr>
                        <th colspan="4"
                            style="text-align:center; font-size:12px;border: 1px solid black;padding:8px; background:#4fb7b2; color: black;">
                            Applicant Details &nbsp;
                            <!-- <lightning-button label="Add Tab" title="Add a new tab" onclick={addTab}></lightning-button>  -->
                            <lightning-button label="Add Applicant" slot="actions" icon-name="utility:add"
                                onclick={addApplicant}></lightning-button>
                            <!-- &nbsp;<lightning-button label="Remove Applicant" slot="actions" icon-name="utility:remove" onclick={removeTab}></lightning-button>  -->
                        </th>
                    </tr>
                </table>
                <lightning-tabset  aria-live="polite">
                    <template for:each={getApplicantData} for:item="applicant" for:index="index">
                        <lightning-tab key={applicant.key} class="slds-tabs_default" label={applicant.key}
                            icon-name="standard:client">
                            <div style="float: right;">
                                <lightning-button data-tabvalue={applicant.key} data-index={index} label={applicant.key}
                                    variant="destructive" icon-name="utility:delete" class="slds-tabs_default"
                                    onclick={removeTab}></lightning-button>
                            </div>
                            <br /> <br />
                            <lightning-record-edit-form object-api-name="Applicant__c">

                                <table class="Table1Css" style="font-size:10px;">
                                    <tr>
                                        <th style="text-align:left;">Salutation<span style="color: red;">*</span></th>
                                        <td style="text-align:left;"><lightning-input-field type="picklist"
                                                variant="label-hidden" field-name="Applicant_Title__c"
                                                data-key={applicant.key} data-index={index} name="Applicant_Title__c"
                                                value={applicant.ap.Applicant_Title__c} onchange={handleApplicant}
                                                required="true"></lightning-input-field>
                                        </td>
                                        <th style="text-align:left;">Name<span style="color: red;">*</span>
                                        </th>
                                        <td style="text-align:left;"><lightning-input-field type="text" name="Name"
                                                data-key={applicant.key} data-index={index} variant="label-hidden"
                                                field-name="Name" value={applicant.ap.Name} onchange={handleApplicant}
                                                required="true"></lightning-input-field>
                                        </td>

                                    </tr>
                                    <tr>
                                        <th style="text-align:left;">Applicant Number :<span
                                                style="color: red;">*</span>
                                        </th>
                                        <td colspan="3" style="text-align:left;"><lightning-input-field
                                                data-key={applicant.key} name="Applicant_Number__c"
                                                variant="label-hidden" value={applicant.ap.Applicant_Number__c}
                                                field-name="Applicant_Number__c" data-id='Controlling Picklist Type'
                                                onchange={handleApplicant} required="true"></lightning-input-field>
                                        </td>

                                    </tr>
                                    <tr>
                                        <th colspan="4" style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                                        color: black; ">
                                            Address Details Section
                                        </th>
                                    </tr>
                                    <tr>
                                        <th style="text-align:left;"> Mailing address same as Permanent address</th>
                                        <td>
                                            <lightning-input-field name="Mailing_Address_same_as_PermanentAddress__c"
                                                data-id="Mailing_Address_same_as_PermanentAddress__c"
                                                data-key={applicant.key} variant="label-hidden"
                                                field-name="Mailing_Address_same_as_PermanentAddress__c"
                                                value={applicant.ap.Mailing_Address_same_as_PermanentAddress__c}
                                                onchange={handleApplicant} type="checkbox"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <template if:false={applicant.ap.Mailing_Address_same_as_PermanentAddress__c}>
                                        <tr>
                                            <th style="text-align:left;">Mailing Address
                                            </th>
                                            <td>
                                                <lightning-textarea name="Mailing_Address__c"
                                                    data-id="Mailing_Address__c" data-key={applicant.key}
                                                    variant="label-hidden" field-name="Mailing_Address__c"
                                                    value={applicant.ap.Mailing_Address__c}
                                                    onchange={handleApplicant}></lightning-textarea>
                                            </td>
                                            <th style="text-align:left;">Mailing Country
                                            </th>
                                            <td>
                                                <lightning-input-field name="Mailing_Country__c"
                                                    data-id="Mailing_Country__c" data-key={applicant.key}
                                                    variant="label-hidden" field-name="Mailing_Country__c"
                                                    value={applicant.ap.Mailing_Country__c} onchange={handleApplicant}
                                                    type="picklist"></lightning-input-field>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th style="text-align:left;">Mailing State
                                            </th>
                                            <td>
                                                <lightning-input-field name="Mailing_State__c"
                                                    data-id="Mailing_State__c" data-key={applicant.key}
                                                    variant="label-hidden" field-name="Mailing_State__c"
                                                    value={applicant.ap.Mailing_State__c} onchange={handleApplicant}
                                                    type="picklist"></lightning-input-field>
                                            </td>

                                            <th style="text-align:left;">Mailing City
                                            </th>
                                            <td>
                                                <lightning-input-field name="Mailing_City__c" data-id="Mailing_City__c"
                                                    data-key={applicant.key} variant="label-hidden"
                                                    field-name="Mailing_City__c" value={applicant.ap.Mailing_City__c}
                                                    onchange={handleApplicant} type="picklist"></lightning-input-field>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th style="text-align:left;">Mailing Pincode
                                            </th>
                                            <td>
                                                <lightning-input-field name="Mailing_Pincode__c"
                                                    data-id="Mailing_Pincode__c" data-key={applicant.key}
                                                    variant="label-hidden" field-name="Mailing_Pincode__c"
                                                    value={applicant.ap.Mailing_Pincode__c}
                                                    onchange={handleApplicant}></lightning-input-field>
                                            </td>
                                        </tr>

                                    </template>
                                    <tr>
                                        <th style="text-align:left;">Permanent Address<span style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field name="Permanent_Address__c"
                                                data-id="Permanent_Address__c" data-key={applicant.key}
                                                variant="label-hidden" type="text" field-name="Permanent_Address__c"
                                                value={applicant.ap.Permanent_Address__c}
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                        <th style="text-align:left;">Country<span style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field name="Country__c" data-id="Country__c"
                                                data-key={applicant.key} value={applicant.ap.Country__c}
                                                field-name="Country__c" variant="label-hidden"
                                                onchange={handleApplicant} type="picklist"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th style="text-align:left;">State<span style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field name="State__c" data-id="State__c"
                                                data-key={applicant.key} field-name="State__c"
                                                value={applicant.ap.State__c} variant="label-hidden"
                                                onchange={handleApplicant} type="picklist"></lightning-input-field>
                                        </td>
                                        <th style="text-align:left;">City
                                        </th>
                                        <td>
                                            <lightning-input-field name="City__c" data-id="City__c"
                                                data-key={applicant.key} field-name="City__c"
                                                value={applicant.ap.City__c} variant="label-hidden"
                                                onchange={handleApplicant} type="picklist"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th style="text-align:left;">Pincode<span style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field name="PIN__c" data-id="PIN__c"
                                                data-key={applicant.key} value={applicant.ap.PIN__c} field-name="PIN__c"
                                                variant="label-hidden"
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                        <th style="text-align:left;">Company Name
                                        </th>
                                        <td>
                                            <lightning-input-field name="Company_Name__c" data-id="Company_Name__c"
                                                data-key={applicant.key} value={applicant.ap.Company_Name__c}
                                                field-name="Company_Name__c" variant="label-hidden"
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th colspan="4" style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                                        color: black; ">
                                            Personal Details Section
                                        </th>
                                    </tr>
                                    <tr>

                                        <th style="text-align:left;">Mobile Number<span style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field style="width: 280px;" name="Mobile_Number__c"
                                                data-id="Mobile_Number__c" data-key={applicant.key}
                                                value={applicant.ap.Mobile_Number__c} field-name="Mobile_Number__c"
                                                variant="label-hidden" onchange={handleApplicant}
                                                type="number"></lightning-input-field>
                                        </td>
                                        <th style="text-align:left;">Email
                                        </th>
                                        <td>
                                            <lightning-input-field name="Applicant_Email__c"
                                                data-id="Applicant_Email__c" field-name="Applicant_Email__c"
                                                value={applicant.ap.Applicant_Email__c} data-key={applicant.key}
                                                variant="label-hidden"
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th style="text-align:left;">Date of Birth<span style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field name="DOB__c" data-id="DOB__c" field-name="DOB__c"
                                                data-key={applicant.key} value={applicant.ap.DOB__c}
                                                variant="label-hidden"
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                        <th style="text-align:left;">Designation
                                        </th>
                                        <td>
                                            <lightning-input-field name="Designation__c" data-id="Designation__c"
                                                field-name="Designation__c" data-key={applicant.key}
                                                value={applicant.ap.Designation__c} variant="label-hidden"
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>

                                    </tr>
                                    <tr>

                                        <th style="text-align:left;">Nationality
                                        </th>
                                        <td>
                                            <lightning-input-field name="Nationality__c" data-id="Nationality__c"
                                                value={applicant.ap.Nationality__c} data-key={applicant.key}
                                                field-name="Nationality__c" variant="label-hidden"
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                        <th style="text-align:left;">Anniversary Date </th>
                                        <td style="text-align:left;"><lightning-input-field data-key={applicant.key}
                                                name="Anniversary_Date__c" variant="label-hidden"
                                                value={applicant.ap.Anniversary_Date__c}
                                                field-name="Anniversary_Date__c"
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th style="text-align:left;">Aadhar Card No<span style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field name="Aadhar_Number__c" data-id="Aadhar_Number__c"
                                                value={applicant.ap.Aadhar_Number__c} data-key={applicant.key}
                                                variant="label-hidden" field-name="Aadhar_Number__c"
                                                onchange={handleApplicant}></lightning-input-field>
                                            <div if:true={showError} class="slds-text-color_error">
                                                {showMsg}
                                            </div>
                                        </td>
                                        <th style="text-align:left;">PAN Number<span style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field name="PAN_Number__c" data-id="PAN_Number__c"
                                                value={applicant.ap.PAN_Number__c} data-key={applicant.key}
                                                variant="label-hidden" field-name="PAN_Number__c"
                                                onchange={handleApplicant}></lightning-input-field>
                                            <div if:true={showErrorPan} class="slds-text-color_error">
                                                {showMsg}
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <th style="text-align:left;"> Type of Applicant :<span
                                                style="color: red;">*</span>
                                        </th>
                                        <td><lightning-input-field data-key={applicant.key} name="Type_Of_Applicant__c"
                                                variant="label-hidden" value={applicant.ap.Type_Of_Applicant__c}
                                                field-name="Type_Of_Applicant__c" data-id='Controlling Picklist Type'
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                        <th style="text-align:left;">Residential Status<span
                                                style="color: red;">*</span>
                                        </th>
                                        <td>
                                            <lightning-input-field name="Residential_Status__c"
                                                value={applicant.ap.Residential_Status__c} data-key={applicant.key}
                                                field-name="Residential_Status__c" variant="label-hidden"
                                                data-id="Residential_Status__c"
                                                onchange={handleApplicant}></lightning-input-field>
                                        </td>
                                    </tr>

                                    <template if:true={applicant.documents}>
                                        <tr>
                                            <th colspan="4"
                                                style="text-align:center; font-size:12px;border: 1px solid black;padding:8px; background:  #4fb7b2; color: black;">
                                                Documents Details
                                            </th>
                                        </tr>

                                        <template for:each={applicant.documents} for:item="document">
                                            <tr key={document.Id}>
                                                <!-- <th style="width:25% !important;">
                                                {document.Name} - Number
                                            </th>
                                            <td>
                                                <lightning-input name="doctypeNo" data-id={document.index}
                                                data-index={index} data-applicantkey={document.key}
                                                onchange={handleDoctype} 
                                                value={document.doctypeNo}></lightning-input>
                                            </td> -->
                                                <th style="width:25% !important;">
                                                    {document.Name}
                                                </th>
                                                <td>
                                                    <lightning-input name="fileUploader" data-id={document.index}
                                                        data-index={index} data-applicantkey={document.key}
                                                        onchange={openfileUpload} type="file"
                                                        accept=".xlsx, .xls, .csv, .png, .doc, .docx, .pdf, .jpeg, .jpg"
                                                        value={document.fileUploader}></lightning-input>
                                                    <p if:true={document.filename}>{document.filename}</p>
                                                    <!-- <p  style="color:red !important;" if:true={document.filesize}>{document.filesize}</p> -->
                                                </td>
                                            </tr>
                                        </template>
                                    </template>
                                </table>
                            </lightning-record-edit-form>
                        </lightning-tab>
                    </template>
                </lightning-tabset>
                <!-- Payment Summary Sections -->

                <lightning-record-edit-form object-api-name="Terms_Sheet__c">
                    <table class="Table1Css" style="font-size:10px;">
                        <tr>
                            <th style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                    color: black; ">Payment Summary Details &nbsp;
                                <lightning-icon icon-name="standard:contract_payment" size="xx-large"
                                    variant="inverse"></lightning-icon>
                            </th>
                        </tr>
                    </table>
                    <lightning-tabset  aria-live="polite">
                        <lightning-tab class="slds-tabs_default" label="Payment Summary"
                            icon-name="standard:contract_payment">
                            <table class="Table1Css" style="font-size:10px;">
                                <tr>
                                    <th colspan="4" style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                            color: black; ">
                                        Funding Details
                                    </th>
                                </tr>

                                <tr>
                                    <th style="text-align:left;">Self Funding</th>
                                    <td><lightning-input-field name="Self_funding__c" data-id="Self_funding__c"
                                            variant="label-hidden" field-name="Self_funding__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                    <th style="text-align:left;">Amount</th>
                                    <td><lightning-input-field name="Self_Funding_Amount__c"
                                            data-id="Self_Funding_Amount__c" variant="label-hidden"
                                            field-name="Self_Funding_Amount__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>

                                <tr>
                                    <th style="text-align:left;">Home Loan</th>
                                    <td><lightning-input-field name="Home_Loan__c" data-id="Home_Loan__c"
                                            variant="label-hidden" field-name="Home_Loan__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                    <th style="text-align:left;">Amount</th>
                                    <td><lightning-input-field name="Amount__c" data-id="Amount__c"
                                            variant="label-hidden" field-name="Amount__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>
                            </table>
                            <table class="Table1Css" style="font-size:10px;">
                                <tr>
                                    <th style="text-align:center; font-size:12px;border: 1px solid black;padding:8px;    background:  #4fb7b2;
                color: black; ">
                                        Payment Summary of Current due to be Paid
                                    </th>
                                </tr>
                            </table>
                            <table class="Table1Css" style="font-size:10px;">
                                <tr>
                                    <th>
                                        Particular
                                    </th>
                                    <th>
                                        Due Amount
                                    </th>
                                    <th>
                                        Date
                                    </th>
                                </tr>
                                <tr>
                                    <td>
                                        Token/ Booking Amount <span style="color: red;">*</span>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Token_Booking_Amount__c"
                                            data-id="Token_Booking_Amount__c" variant="label-hidden"
                                            field-name="Token_Booking_Amount__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>

                                    </td>
                                    <td>
                                        <lightning-input-field name="Token_Booking_Amount_Date__c"
                                            data-id="Token_Booking_Amount_Date__c" variant="label-hidden"
                                            field-name="Token_Booking_Amount_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Own Contribution (a) <span style="color: red;">*</span>
                                    </td>
                                    <td>

                                        <lightning-input-field name="Own_Contribution_a__c"
                                            data-id="Own_Contribution_a__c" variant="label-hidden"
                                            field-name="Own_Contribution_a__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>


                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_a_Date__c"
                                            data-id="Own_Contribution_a_Date__c" variant="label-hidden"
                                            field-name="Own_Contribution_a_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Own Contribution (b) <span style="color: red;">*</span>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_b__c"
                                            data-id="Own_Contribution_b__c" variant="label-hidden"
                                            field-name="Own_Contribution_b__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_b_Date__c"
                                            data-id="Own_Contribution_b_Date__c" variant="label-hidden"
                                            field-name="Own_Contribution_b_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        Own Contribution (c) <span style="color: red;">*</span>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_c__c"
                                            data-id="Own_Contribution_c__c" variant="label-hidden"
                                            field-name="Own_Contribution_c__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_c_Date__c"
                                            data-id="Own_Contribution_c_Date__c" variant="label-hidden"
                                            field-name="Own_Contribution_c_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>



                                <tr>
                                    <td>
                                        Own Contribution (d) <span style="color: red;">*</span>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_d__c"
                                            data-id="Own_Contribution_d__c" variant="label-hidden"
                                            field-name="Own_Contribution_d__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_d_Date__c"
                                            data-id="Own_Contribution_d_Date__c" variant="label-hidden"
                                            field-name="Own_Contribution_d_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        Own Contribution (e) <span style="color: red;">*</span>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_e__c"
                                            data-id="Own_Contribution_e__c" variant="label-hidden"
                                            field-name="Own_Contribution_e__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Own_Contribution_e_Date__c"
                                            data-id="Own_Contribution_e_Date__c" variant="label-hidden"
                                            field-name="Own_Contribution_e_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>


                                <tr>
                                    <td>
                                        Home Loan Contribution / Self-Funding <span style="color: red;">*</span>
                                        <p style="font-size:8px;">

                                            (Current Due Less Own Contribution Less Token Amount) </p>

                                    </td>
                                    <td>
                                        <lightning-input-field name="Home_Loan_Contribution_Self_Funding__c"
                                            data-id="Home_Loan_Contribution_Self_Funding__c" variant="label-hidden"
                                            field-name="Home_Loan_Contribution_Self_Funding__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                    <td>
                                        <lightning-input-field name="Home_Loan_Date__c" data-id="Home_Loan_Date__c"
                                            variant="label-hidden" field-name="Home_Loan_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        GST Amount <span style="color: red;">*</span>
                                        <p style="font-size:8px;">

                                            (On Current Due) </p>

                                    </td>
                                    <td>
                                        <lightning-input-field name="GST_Amount__c" data-id="GST_Amount__c"
                                            variant="label-hidden" field-name="GST_Amount__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                    <td>
                                        <lightning-input-field name="GST_Amount_Date__c" data-id="GST_Amount_Date__c"
                                            variant="label-hidden" field-name="GST_Amount_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        SDR Amount <span style="color: red;">*</span>

                                    </td>
                                    <td>
                                        <lightning-input-field name="SDR_Amount__c" data-id="SDR_Amount__c"
                                            variant="label-hidden" field-name="SDR_Amount__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>

                                    </td>
                                    <td>
                                        <lightning-input-field name="SDR_Amount_Date__c" data-id="SDR_Amount_Date__c"
                                            variant="label-hidden" field-name="SDR_Amount_Date__c"
                                            onchange={handleChangeTermSheet}></lightning-input-field>
                                    </td>
                                </tr>

                            </table>
                        </lightning-tab>
                    </lightning-tabset>
                </lightning-record-edit-form>
            </lightning-card>
        </template>
    </div>

    <template if:false={isError}>
        <div class="slds-align_absolute-center" style="font-size: 20px;">
            <lightning-button icon-name="utility:save" label="Save"  alternative-text="Save" size="medium" title="Save"
                variant="success" onclick={handleSave}>
            </lightning-button>
         
        </div> <br/>

    </template>

    <!-- <p>Nitin</p> -->
</template>